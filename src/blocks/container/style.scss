/**
 * Container Block - Frontend Styles
 *
 * @package Magical_Blocks
 * @since   1.0.0
 */

// CSS Variables defaults
html body .mgb-container {
	// Layout
	--mgb-container-width: 100%;
	--mgb-container-min-height: auto;
	
	// Flexbox
	--mgb-container-direction: row;
	--mgb-container-justify: flex-start;
	--mgb-container-align: stretch;
	--mgb-container-wrap: wrap;
	--mgb-container-column-gap: 20px;
	--mgb-container-row-gap: 20px;
	
	// Background
	--mgb-container-bg-color: transparent;
	--mgb-container-bg-gradient: none;
	--mgb-container-bg-image: none;
	--mgb-container-bg-position: center center;
	--mgb-container-bg-size: cover;
	--mgb-container-bg-repeat: no-repeat;
	--mgb-container-bg-attachment: scroll;
	
	// Overlay
	--mgb-container-overlay-color: transparent;
	--mgb-container-overlay-gradient: none;
	--mgb-container-overlay-opacity: 0.5;
	
	// Spacing
	--mgb-container-padding-top: 10px;
	--mgb-container-padding-right: 10px;
	--mgb-container-padding-bottom: 10px;
	--mgb-container-padding-left: 10px;
	--mgb-container-margin-top: 0;
	--mgb-container-margin-right: 0;
	--mgb-container-margin-bottom: 0;
	--mgb-container-margin-left: 0;
	
	// Border
	--mgb-container-border-style: none;
	--mgb-container-border-width: 0;
	--mgb-container-border-color: transparent;
	--mgb-container-border-color-hover: transparent;
	--mgb-container-border-radius: 0;
	
	// Box Shadow
	--mgb-container-box-shadow: none;
	--mgb-container-box-shadow-hover: none;
	
	// Advanced
	--mgb-container-z-index: auto;
	--mgb-container-overflow: visible;
	--mgb-container-transition: all 0.3s ease;

	position: relative;
	display: flex;
	flex-direction: var(--mgb-container-direction);
	justify-content: var(--mgb-container-justify);
	align-items: var(--mgb-container-align);
	flex-wrap: var(--mgb-container-wrap);
	column-gap: var(--mgb-container-column-gap);
	row-gap: var(--mgb-container-row-gap);
	min-height: var(--mgb-container-min-height);
	
	// Individual padding properties for proper responsive override
	padding-top: var(--mgb-container-padding-top);
	padding-right: var(--mgb-container-padding-right);
	padding-bottom: var(--mgb-container-padding-bottom);
	padding-left: var(--mgb-container-padding-left);
	
	// Individual margin properties for proper responsive override
	margin-top: var(--mgb-container-margin-top);
	margin-right: var(--mgb-container-margin-right);
	margin-bottom: var(--mgb-container-margin-bottom);
	margin-left: var(--mgb-container-margin-left);
	
	background-color: var(--mgb-container-bg-color);
	background-position: var(--mgb-container-bg-position);
	background-size: var(--mgb-container-bg-size);
	background-repeat: var(--mgb-container-bg-repeat);
	background-attachment: var(--mgb-container-bg-attachment);
	border-style: var(--mgb-container-border-style);
	border-width: var(--mgb-container-border-width);
	border-color: var(--mgb-container-border-color);
	border-radius: var(--mgb-container-border-radius);
	box-shadow: var(--mgb-container-box-shadow);
	z-index: var(--mgb-container-z-index);
	overflow: var(--mgb-container-overflow);
	transition: var(--mgb-container-transition);
	box-sizing: border-box;
	background-image: var(--mgb-container-bg-image);

	// Background gradient overlay on image
	&--has-gradient {
		background-image: var(--mgb-container-bg-gradient), var(--mgb-container-bg-image);
	}

	// Gradient only (no image)
	&:not(.mgb-container--has-bg-image).mgb-container--has-gradient {
		background-image: var(--mgb-container-bg-gradient);
	}

	// Hover states
	&:hover {
		border-color: var(--mgb-container-border-color-hover, var(--mgb-container-border-color));
		box-shadow: var(--mgb-container-box-shadow-hover, var(--mgb-container-box-shadow));
	}
}

// Overlay
html body .mgb-container__overlay {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: var(--mgb-container-overlay-color);
	background-image: var(--mgb-container-overlay-gradient);
	opacity: var(--mgb-container-overlay-opacity);
	pointer-events: none;
	z-index: 1;
	border-radius: inherit;
}

// Inner content wrapper - this becomes the flex parent for Inner Containers
.mgb-container__inner {
	position: relative;
	display: flex;
	flex-direction: inherit;
	justify-content: inherit;
	align-items: inherit;
	flex-wrap: inherit;
	column-gap: inherit;
	row-gap: inherit;
	width: 100%;
	z-index: 2;

	// Direct children (Inner Containers) inherit flex context
	// The .wp-block-magical-blocks-inner-container has its own flex rules
}

// Container width variants
.mgb-container--boxed {
	max-width: var(--mgb-container-width, 1200px);
	margin-left: auto;
	margin-right: auto;

	&[style*="--mgb-container-margin-left"],
	&[style*="--mgb-container-margin-right"] {
		margin-left: var(--mgb-container-margin-left, auto);
		margin-right: var(--mgb-container-margin-right, auto);
	}
}

html body .mgb-container--full {
	width: 100% !important;
	max-width: 100% !important;
}

html body .mgb-container--fullscreen {
	width: 100vw !important;
	max-width: 100vw !important;
	margin-left: calc(50% - 50vw)!important;
	margin-right: calc(50% - 50vw)!important;
}

// WordPress alignment support
html body .mgb-container.alignfull {
	width: 100vw !important;
	max-width: 100vw !important;
	margin-left: calc(50% - 50vw) !important;
	margin-right: calc(50% - 50vw) !important;
}

html body .mgb-container.alignwide {
	max-width: var(--wp--style--global--wide-size, 1200px);
	margin-left: auto;
	margin-right: auto;
}

// Responsive - Tablet (991px)
@media (max-width: 991px) {
	.mgb-container {
		// Layout
		max-width: var(--mgb-container-width-tablet, var(--mgb-container-width));
		min-height: var(--mgb-container-min-height-tablet, var(--mgb-container-min-height));
		
		// Flexbox
		flex-direction: var(--mgb-container-direction-tablet, var(--mgb-container-direction));
		justify-content: var(--mgb-container-justify-tablet, var(--mgb-container-justify));
		align-items: var(--mgb-container-align-tablet, var(--mgb-container-align));
		flex-wrap: var(--mgb-container-wrap-tablet, var(--mgb-container-wrap));
		column-gap: var(--mgb-container-column-gap-tablet, var(--mgb-container-column-gap));
		row-gap: var(--mgb-container-row-gap-tablet, var(--mgb-container-row-gap));
		
		// Spacing
		padding-top: var(--mgb-container-padding-top-tablet, var(--mgb-container-padding-top));
		padding-right: var(--mgb-container-padding-right-tablet, var(--mgb-container-padding-right));
		padding-bottom: var(--mgb-container-padding-bottom-tablet, var(--mgb-container-padding-bottom));
		padding-left: var(--mgb-container-padding-left-tablet, var(--mgb-container-padding-left));
		margin-top: var(--mgb-container-margin-top-tablet, var(--mgb-container-margin-top));
		margin-right: var(--mgb-container-margin-right-tablet, var(--mgb-container-margin-right));
		margin-bottom: var(--mgb-container-margin-bottom-tablet, var(--mgb-container-margin-bottom));
		margin-left: var(--mgb-container-margin-left-tablet, var(--mgb-container-margin-left));
		
		// Border
		border-radius: var(--mgb-container-border-radius-tablet, var(--mgb-container-border-radius));
	}

	.mgb-container--boxed {
		max-width: var(--mgb-container-width-tablet, var(--mgb-container-width, 1200px));
	}
}

// Responsive - Mobile (767px)
@media (max-width: 767px) {
	.mgb-container {
		// Layout
		max-width: var(--mgb-container-width-mobile, var(--mgb-container-width-tablet, var(--mgb-container-width)));
		min-height: var(--mgb-container-min-height-mobile, var(--mgb-container-min-height-tablet, var(--mgb-container-min-height)));
		
		// Flexbox
		flex-direction: var(--mgb-container-direction-mobile, var(--mgb-container-direction-tablet, var(--mgb-container-direction)));
		justify-content: var(--mgb-container-justify-mobile, var(--mgb-container-justify-tablet, var(--mgb-container-justify)));
		align-items: var(--mgb-container-align-mobile, var(--mgb-container-align-tablet, var(--mgb-container-align)));
		flex-wrap: var(--mgb-container-wrap-mobile, var(--mgb-container-wrap-tablet, var(--mgb-container-wrap)));
		column-gap: var(--mgb-container-column-gap-mobile, var(--mgb-container-column-gap-tablet, var(--mgb-container-column-gap)));
		row-gap: var(--mgb-container-row-gap-mobile, var(--mgb-container-row-gap-tablet, var(--mgb-container-row-gap)));
		
		// Spacing
		padding-top: var(--mgb-container-padding-top-mobile, var(--mgb-container-padding-top-tablet, var(--mgb-container-padding-top)));
		padding-right: var(--mgb-container-padding-right-mobile, var(--mgb-container-padding-right-tablet, var(--mgb-container-padding-right)));
		padding-bottom: var(--mgb-container-padding-bottom-mobile, var(--mgb-container-padding-bottom-tablet, var(--mgb-container-padding-bottom)));
		padding-left: var(--mgb-container-padding-left-mobile, var(--mgb-container-padding-left-tablet, var(--mgb-container-padding-left)));
		margin-top: var(--mgb-container-margin-top-mobile, var(--mgb-container-margin-top-tablet, var(--mgb-container-margin-top)));
		margin-right: var(--mgb-container-margin-right-mobile, var(--mgb-container-margin-right-tablet, var(--mgb-container-margin-right)));
		margin-bottom: var(--mgb-container-margin-bottom-mobile, var(--mgb-container-margin-bottom-tablet, var(--mgb-container-margin-bottom)));
		margin-left: var(--mgb-container-margin-left-mobile, var(--mgb-container-margin-left-tablet, var(--mgb-container-margin-left)));
		
		// Border
		border-radius: var(--mgb-container-border-radius-mobile, var(--mgb-container-border-radius-tablet, var(--mgb-container-border-radius)));
	}

	.mgb-container--boxed {
		max-width: var(--mgb-container-width-mobile, var(--mgb-container-width-tablet, var(--mgb-container-width, 100%)));
	}

	// Disable parallax on mobile (performance)
	.mgb-container[style*="--mgb-container-bg-attachment: fixed"] {
		background-attachment: scroll;
	}
}
