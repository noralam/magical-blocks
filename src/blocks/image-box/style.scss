/**
 * Image Box Block - Frontend Styles
 *
 * @package Magical_Blocks
 * @since   1.0.0
 */

.mgb-image-box {
	// Default CSS variables
	--mgb-image-box-bg: #ffffff;
	--mgb-image-box-bg-hover: #ffffff;
	--mgb-image-box-border-color: transparent;
	--mgb-image-box-border-hover-color: transparent;
	--mgb-image-box-border-width: 0px;
	--mgb-image-box-border-style: none;
	--mgb-image-box-border-radius: 8px;
	--mgb-image-box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
	--mgb-image-box-shadow-hover: 0 10px 30px rgba(0, 0, 0, 0.12);
	--mgb-image-box-padding: 20px 20px 20px 20px;
	--mgb-image-box-margin: 0px 0px 0px 0px;
	--mgb-image-box-image-height: auto;
	--mgb-image-box-image-fit: cover;
	--mgb-image-box-image-width: 40%;
	--mgb-image-box-image-radius: 0px 0px 0px 0px;
	--mgb-image-box-title-color: #1e1e1e;
	--mgb-image-box-title-hover-color: #1e1e1e;
	--mgb-image-box-desc-color: #666666;
	--mgb-image-box-link-color: #4b1ab3;
	--mgb-image-box-link-hover-color: #005bb5;
	--mgb-image-box-title-size: 20px;
	--mgb-image-box-title-weight: 600;
	--mgb-image-box-title-line-height: 1.4;
	--mgb-image-box-title-spacing: 0px;
	--mgb-image-box-title-transform: none;
	--mgb-image-box-desc-size: 16px;
	--mgb-image-box-desc-weight: 400;
	--mgb-image-box-desc-line-height: 1.6;
	--mgb-image-box-desc-spacing: 0px;
	--mgb-image-box-desc-transform: none;
	--mgb-image-box-link-size: 15px;
	--mgb-image-box-link-weight: 500;
	--mgb-image-box-link-line-height: 1.5;
	--mgb-image-box-content-gap: 12px;
	--mgb-image-box-title-margin: 12px;

	margin: var(--mgb-image-box-margin);
}

.mgb-image-box-inner {
	display: flex;
	flex-direction: column;
	background-color: var(--mgb-image-box-bg);
	border-radius: var(--mgb-image-box-border-radius);
	border-width: var(--mgb-image-box-border-width);
	border-style: var(--mgb-image-box-border-style);
	border-color: var(--mgb-image-box-border-color);
	box-shadow: var(--mgb-image-box-shadow);
	overflow: hidden;
	transition: all 0.3s ease;
}

// Image container
.mgb-image-box-image {
	flex-shrink: 0;
	overflow: hidden;
	min-height: 100px;

	img {
		display: block;
		width: 100%;
		min-height: 100px;
		height: var(--mgb-image-box-image-height);
		object-fit: var(--mgb-image-box-image-fit);
		border-radius: var(--mgb-image-box-image-radius);
		transition: transform 0.3s ease;
		background-color: #f0f0f0;
	}
}

// Content container
.mgb-image-box-content {
	display: flex;
	flex-direction: column;
	gap: var(--mgb-image-box-content-gap);
	padding: var(--mgb-image-box-padding);
}

// Title
.mgb-image-box-title {
	margin: 0 0 var(--mgb-image-box-title-margin) 0;
	font-size: var(--mgb-image-box-title-size);
	font-weight: var(--mgb-image-box-title-weight);
	line-height: var(--mgb-image-box-title-line-height);
	letter-spacing: var(--mgb-image-box-title-spacing);
	text-transform: var(--mgb-image-box-title-transform);
	color: var(--mgb-image-box-title-color);
	transition: color 0.3s ease;
}

// Description
.mgb-image-box-description {
	margin: 0;
	font-size: var(--mgb-image-box-desc-size);
	font-weight: var(--mgb-image-box-desc-weight);
	line-height: var(--mgb-image-box-desc-line-height);
	letter-spacing: var(--mgb-image-box-desc-spacing);
	text-transform: var(--mgb-image-box-desc-transform);
	color: var(--mgb-image-box-desc-color);
}

// Link
.mgb-image-box-link {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	margin-top: 10px;
	font-size: var(--mgb-image-box-link-size);
	font-weight: var(--mgb-image-box-link-weight);
	line-height: var(--mgb-image-box-link-line-height);
	color: var(--mgb-image-box-link-color);
	text-decoration: none;
	transition: color 0.3s ease;

	&::after {
		content: "â†’";
		transition: transform 0.3s ease;
	}

	&:hover {
		color: var(--mgb-image-box-link-hover-color);
		text-decoration: underline;

		&::after {
			transform: translateX(4px);
		}
	}
}

// Link wrapper (entire box clickable)
.mgb-image-box-link-wrapper {
	display: block;
	text-decoration: none;
	color: inherit;

	&:hover .mgb-image-box-title {
		color: var(--mgb-image-box-title-hover-color);
	}
}

// Alignment
.mgb-image-box.mgb-align-center {
	.mgb-image-box-content {
		text-align: center;
		align-items: center;
	}

	.mgb-image-box-link {
		justify-content: center;
	}
}

.mgb-image-box.mgb-align-right {
	.mgb-image-box-content {
		text-align: right;
		align-items: flex-end;
	}

	.mgb-image-box-link {
		justify-content: flex-end;
	}
}

// Layout variants - Left
.mgb-image-box--layout-left .mgb-image-box-inner {
	flex-direction: row;
}

.mgb-image-box--layout-left .mgb-image-box-image {
	width: var(--mgb-image-box-image-width);
	min-width: 120px;

	img {
		height: 100%;
		min-height: var(--mgb-image-box-image-height);
	}
}

.mgb-image-box--layout-left .mgb-image-box-content {
	flex: 1;
	justify-content: center;
}

// Layout variants - Right
.mgb-image-box--layout-right .mgb-image-box-inner {
	flex-direction: row-reverse;
}

.mgb-image-box--layout-right .mgb-image-box-image {
	width: var(--mgb-image-box-image-width);
	min-width: 120px;

	img {
		height: 100%;
		min-height: var(--mgb-image-box-image-height);
	}
}

.mgb-image-box--layout-right .mgb-image-box-content {
	flex: 1;
	justify-content: center;
}

// Layout variants - Bottom
.mgb-image-box--layout-bottom .mgb-image-box-inner {
	flex-direction: column-reverse;
}

// Hover effects
.mgb-image-box:hover .mgb-image-box-inner {
	background-color: var(--mgb-image-box-bg-hover);
	border-color: var(--mgb-image-box-border-hover-color);
	box-shadow: var(--mgb-image-box-shadow-hover);
}

// Hover effects - Lift
.mgb-image-box--hover-lift:hover .mgb-image-box-inner {
	transform: translateY(-5px);
}

// Hover effects - Grow
.mgb-image-box--hover-grow:hover .mgb-image-box-inner {
	transform: scale(1.02);
}

// Hover effects - Zoom image
.mgb-image-box--hover-zoom:hover .mgb-image-box-image img {
	transform: scale(1.1);
}

// Image placeholder
.mgb-image-box-placeholder {
	display: flex;
	align-items: center;
	justify-content: center;
	height: var(--mgb-image-box-image-height);
	background-color: #f0f0f0;
	color: #888;
	cursor: pointer;
	transition: background-color 0.3s ease;

	&:hover {
		background-color: #e0e0e0;
	}
}

// Responsive - Tablet (991px)
@media (max-width: 991px) {
	.mgb-image-box {
		margin: var(--mgb-image-box-margin-tablet, var(--mgb-image-box-margin));
	}

	.mgb-image-box-image img {
		height: var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height));
		border-radius: var(--mgb-image-box-image-radius-tablet, var(--mgb-image-box-image-radius));
	}

	.mgb-image-box-content {
		padding: var(--mgb-image-box-padding-tablet, var(--mgb-image-box-padding));
		gap: var(--mgb-image-box-content-gap-tablet, var(--mgb-image-box-content-gap));
	}

	.mgb-image-box-title {
		font-size: var(--mgb-image-box-title-size-tablet, var(--mgb-image-box-title-size));
		margin-bottom: var(--mgb-image-box-title-margin-tablet, var(--mgb-image-box-title-margin));
	}

	.mgb-image-box-description {
		font-size: var(--mgb-image-box-desc-size-tablet, var(--mgb-image-box-desc-size));
	}

	.mgb-image-box-link {
		font-size: var(--mgb-image-box-link-size-tablet, var(--mgb-image-box-link-size));
	}

	.mgb-image-box--layout-left .mgb-image-box-image,
	.mgb-image-box--layout-right .mgb-image-box-image {
		width: var(--mgb-image-box-image-width-tablet, var(--mgb-image-box-image-width));

		img {
			min-height: var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height));
		}
	}

	.mgb-image-box-placeholder {
		height: var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height));
	}
}

// Responsive - Mobile (767px)
@media (max-width: 767px) {
	.mgb-image-box {
		margin: var(--mgb-image-box-margin-mobile, var(--mgb-image-box-margin-tablet, var(--mgb-image-box-margin)));
	}

	.mgb-image-box-image img {
		height: var(--mgb-image-box-image-height-mobile, var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height)));
		border-radius: var(--mgb-image-box-image-radius-mobile, var(--mgb-image-box-image-radius-tablet, var(--mgb-image-box-image-radius)));
	}

	.mgb-image-box-content {
		padding: var(--mgb-image-box-padding-mobile, var(--mgb-image-box-padding-tablet, var(--mgb-image-box-padding)));
		gap: var(--mgb-image-box-content-gap-mobile, var(--mgb-image-box-content-gap-tablet, var(--mgb-image-box-content-gap)));
	}

	.mgb-image-box-title {
		font-size: var(--mgb-image-box-title-size-mobile, var(--mgb-image-box-title-size-tablet, var(--mgb-image-box-title-size)));
		margin-bottom: var(--mgb-image-box-title-margin-mobile, var(--mgb-image-box-title-margin-tablet, var(--mgb-image-box-title-margin)));
	}

	.mgb-image-box-description {
		font-size: var(--mgb-image-box-desc-size-mobile, var(--mgb-image-box-desc-size-tablet, var(--mgb-image-box-desc-size)));
	}

	.mgb-image-box-link {
		font-size: var(--mgb-image-box-link-size-mobile, var(--mgb-image-box-link-size-tablet, var(--mgb-image-box-link-size)));
	}

	// Stack horizontal layouts on mobile
	.mgb-image-box--layout-left .mgb-image-box-inner,
	.mgb-image-box--layout-right .mgb-image-box-inner {
		flex-direction: column;
	}

	.mgb-image-box--layout-left .mgb-image-box-image,
	.mgb-image-box--layout-right .mgb-image-box-image {
		width: var(--mgb-image-box-image-width-mobile, 100%);
		min-width: auto;

		img {
			height: var(--mgb-image-box-image-height-mobile, var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height)));
			min-height: auto;
		}
	}

	.mgb-image-box-placeholder {
		height: var(--mgb-image-box-image-height-mobile, var(--mgb-image-box-image-height-tablet, var(--mgb-image-box-image-height)));
	}
}

// Editor-specific styles
.editor-styles-wrapper {
	.mgb-image-box-placeholder {
		display: flex;
		align-items: center;
		justify-content: center;
		min-height: 150px;
		background-color: #f0f0f0;
		border: 2px dashed #ccc;
		border-radius: 4px;

		.components-button {
			font-size: 14px;
			padding: 10px 20px;
		}
	}
}
